<div id="professors-root" class="font-sans">Loading professors...</div>

<script type="module" is:inline>
  const root = document.getElementById("professors-root");
  if (!root) {
    console.error("Professors root not found");
  } else {
    async function load() {
      root.textContent = "Loading professors...";
      try {
        const res = await fetch("/api/professors?university_id=1");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const professors = await res.json();

        root.innerHTML = "";
        professors.forEach((professor) => {
          const el = document.createElement("div");
          el.className = "border border-slate-200 p-3 my-2 rounded-md bg-white";

          const name = document.createElement("h3");
          name.className = "text-lg font-semibold mb-1";
          name.textContent = `${professor.name}`;
          el.appendChild(name);

          const dept = document.createElement("div");
          dept.className = "text-sm text-slate-600";
          dept.textContent = `Department: ${professor.department ?? "â€”"}`;
          el.appendChild(dept);

          root.appendChild(el);
        });
      } catch (err) {
        root.textContent = "Failed to load professors.";
        console.error(err);
      }
    }

    load();
  }