<div id="courses-root" class="font-sans">Cargando cursos...</div>

<script type="module" is:inline>
  const root = document.getElementById("courses-root");
  if (!root) {
    console.error("No se encontró la raíz de cursos");
  } else {
    async function load() {
      root.textContent = "Cargando cursos...";
      try {
        const res = await fetch("/api/courses");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const courses = await res.json();

        root.innerHTML = "";
        courses.forEach((course) => {
          const el = document.createElement("div");
          el.className = "border border-slate-200 p-3 my-2 rounded-md bg-white";

          const title = document.createElement("h3");
          title.className = "text-lg font-semibold mb-1";
          title.textContent = `${course.name}`;
          el.appendChild(title);

          root.appendChild(el);
        });
      } catch (err) {
        root.textContent = "Error al cargar los cursos.";
        console.error(err);
      }
    }

    load();
  }
</script>
