<div id="courses-root" class="font-sans">Loading courses...</div>

<script type="module" is:inline>
  const root = document.getElementById("courses-root");
  if (!root) {
    console.error("Courses root not found");
  } else {
    async function load() {
      root.textContent = "Loading courses...";
      try {
        const res = await fetch("/api/courses");
        if (!res.ok) throw new Error(`HTTP ${res.status}`);
        const courses = await res.json();

        root.innerHTML = "";
        courses.forEach((course) => {
          const el = document.createElement("div");
          el.className = "border border-slate-200 p-3 my-2 rounded-md bg-white";

          const title = document.createElement("h3");
          title.className = "text-lg font-semibold mb-1";
          title.textContent = `${course.name}`;
          el.appendChild(title);

          root.appendChild(el);
        });
      } catch (err) {
        root.textContent = "Failed to load courses.";
        console.error(err);
      }
    }

    load();
  }
</script>
